<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prendre un rende-vous - Hamy International Clinique</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
     <header class="en-tete" role="banner">
      <div class="logo">
        <img src="image/Logo.jpg" alt="Logo Hamy International" />
        <div class="titre">
          <h1 class="Pr">Hamy International</h1>
          <p class="slogan">Votre sant√© est notre priorit√©</p>
        </div>
      </div>
      <nav aria-label="Menu principal">
        <ul class="nav-list">
          <li><a href="index.html">Accueil</a></li>
          <li><a href="service.html">Services</a></li>
          <li><a href="specialit√©.html">Sp√©cialistes</a></li>
          <li><a href="rende-vous.html">Prendre RDV</a></li>
          <li><a href="teleconsultation.html">T√©l√©consultation</a></li>
          <li><a href="prescription.html">Ordonnance</a></li>
          <li><a href="paiement.html">Paiement</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
        <div class="nav-actions">
          <button
            class="ur"
            type="button"
            onclick="location.href='urgence.html'" > URGENCE</button>
          <button
            class="rdv"
            type="button"
            onclick="location.href='rende-vous.html'"> Prendre RDV</button>
        </div>
      </nav>
    </header>
    
    <!-- Prise de rendez-vous -->
      <section id="rdv" class="rende-vous" aria-labelledby="rdv-heading">
        <h2 id="rdv-heading">Prendre rendez-vous</h2>
        <p style="color:var(--text-light);margin-bottom:20px;text-align:center;">R√©servez votre consultation en ligne en quelques clics. Nos √©quipes vous rappelleront pour confirmer.</p>
        <form id="rdvForm" class="rdv-form" action="#" method="post" aria-label="Formulaire de prise de rendez-vous">
          <div style="display:grid;gap:12px;">
            <label>Nom complet
              <input type="text" id="rdvNom" name="nom" required placeholder="Votre nom complet" />
            </label>

            <label>T√©l√©phone
              <input type="tel" id="rdvTel" name="tel" required placeholder="06 00 00 00 00" />
            </label>

            <label>Email
              <input type="email" id="rdvEmail" name="email" placeholder="vous@exemple.com" />
            </label>

            <label>Service
              <select id="rdvService" name="service">
                <option>M√©decine g√©n√©rale</option>
                <option>P√©diatrie</option>
                <option>Imagerie</option>
                <option>Laboratoire</option>
                <option>Gyn√©cologie - Obst√©trique</option>
                <option>Cardiologie</option>
                <option>Ophtalmologie</option>
                <option>ORL (Oto-Rhino-Laryngologie)</option>
                <option>Dermatologie</option>
                <option>Psychologie / Psychiatrie</option>
                <option>Kin√©sith√©rapie / R√©√©ducation</option>
                <option>Nutrition / Di√©t√©tique</option>
              </select>
            </label>

            <label>Date
              <input type="date" id="rdvDate" name="date" required />
            </label>

            <div id="rdvMessage" role="status" aria-live="polite" style="display:none;padding:12px;border-radius:8px;margin-top:6px;"></div>

            <div class="form-actions">
              <button class="btn btn-primary" type="submit">Demander RDV</button>
              <button class="btn btn-outline" type="reset" id="rdvReset">Effacer</button>
            </div>

            <div style="text-align:center;margin-top:8px;">
              <button type="button" id="viewBookings" class="btn btn-outline">Voir r√©servations (mock)</button>
            </div>
          </div>
        </form>
      </section>

      <!-- Info suppl√©mentaire -->
      <section style="background:#f8f9fa;padding:32px 24px;border-radius:12px;margin:32px 0;">
        <h3 style="margin-bottom:16px;color:var(--primary);">‚ùì Besoin d'aide ?</h3>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;">
          <div>
            <h4 style="margin-bottom:8px;">üìû Par t√©l√©phone</h4>
            <p style="color:var(--text-light);">Appelez-nous au <strong><a href="tel:610783753" style="color:var(--primary);">610 783 753</a></strong> pour r√©server imm√©diatement.</p>
          </div>
          <div>
            <h4 style="margin-bottom:8px;">üí¨ Par message</h4>
            <p style="color:var(--text-light);">Vous pr√©f√©rez nous √©crire ? <a href="contact.html" style="color:var(--primary);">Utilisez notre formulaire de contact</a></p>
          </div>
          <div>
            <h4 style="margin-bottom:8px;">üè• Urgence ?</h4>
            <p style="color:var(--text-light);">En cas d'urgence, <a href="urgence.html" style="color:var(--accent);font-weight:600;">acc√©dez imm√©diatement √† cette page</a></p>
          </div>
        </div>
      </section>

      <!-- Footer enrichi -->
      <footer class="site-footer" style="margin-top:32px;background:#f8f9fa;padding:24px;border-top:1px solid var(--border);">
        <div style="max-width:1200px;margin:0 auto;">
          <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-bottom:24px;">
            <div>
              <h3 style="margin-bottom:12px;color:var(--primary);">Services</h3>
              <ul style="list-style:none;padding:0;">
                <li><a href="service.html" style="color:var(--text-light);text-decoration:none;">üè• Tous nos services</a></li>
                <li><a href="specialit√©.html" style="color:var(--text-light);text-decoration:none;">üë®‚Äç‚öïÔ∏è Nos sp√©cialistes</a></li>
                <li><a href="urgence.html" style="color:var(--text-light);text-decoration:none;">üö® Urgences</a></li>
              </ul>
            </div>
            <div>
              <h3 style="margin-bottom:12px;color:var(--primary);">Contact</h3>
              <p style="margin:6px 0;"><strong>T√©l :</strong> <a href="tel:610783753" style="color:var(--primary);">610 783 753</a></p>
              <p style="margin:6px 0;"><strong>Email :</strong> <a href="mailto:xhamyexpresse@gmail.com" style="color:var(--primary);">xhamyexpresse@gmail.com</a></p>
            </div>
            <div>
              <h3 style="margin-bottom:12px;color:var(--primary);">Navigation</h3>
              <ul style="list-style:none;padding:0;">
                <li><a href="index.html" style="color:var(--text-light);text-decoration:none;">Accueil</a></li>
                <li><a href="contact.html" style="color:var(--text-light);text-decoration:none;">Contact</a></li>
                <li><a href="rende-vous.html" style="color:var(--text-light);text-decoration:none;">Prendre RDV</a></li>
              </ul>
            </div>
          </div>
          <div style="text-align:center;padding-top:16px;border-top:1px solid var(--border);color:var(--muted);">
            <p>¬© 2025 Hamy International. Tous droits r√©serv√©s. | D√©velopp√© par Fode Lamine Diane</p>
            <p style="margin-top:8px;"><a href="privacy.html" style="color:var(--primary);text-decoration:none;">Politique de confidentialit√©</a></p>
          </div>
        </div>
      </footer>

    <script>
      (function(){
        const form = document.getElementById('rdvForm');
        const msg = document.getElementById('rdvMessage');

        function showMessage(text, type){
          msg.style.display = 'block';
          msg.textContent = text;
          if(type === 'error'){
            msg.style.background = '#fff0f0';
            msg.style.border = '1px solid #ff8a8a';
            msg.style.color = '#700';
          } else {
            msg.style.background = '#eefaf0';
            msg.style.border = '1px solid #8fe0a6';
            msg.style.color = '#064';
          }
          try{ msg.scrollIntoView({behavior:'smooth', block:'center'}); }catch(e){ /* silent */ }
        }

        function clearErrors(){
          ['rdvNom','rdvTel','rdvDate','rdvEmail'].forEach(id=>{
            const el = document.getElementById(id);
            if(el) el.style.borderColor = '';
          });
        }

        form.addEventListener('submit', function(e){
          e.preventDefault();
          clearErrors();
          const name = document.getElementById('rdvNom').value.trim();
          const tel = document.getElementById('rdvTel').value.trim();
          const email = document.getElementById('rdvEmail').value.trim();
          const service = document.getElementById('rdvService').value;
          const date = document.getElementById('rdvDate').value;

          const errors = [];
          if(!name){ errors.push('Le nom est requis'); document.getElementById('rdvNom').style.borderColor = 'crimson'; }
          if(!tel){ errors.push('Le t√©l√©phone est requis'); document.getElementById('rdvTel').style.borderColor = 'crimson'; }
          if(!date){ errors.push('La date est requise'); document.getElementById('rdvDate').style.borderColor = 'crimson'; }
          if(email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
            errors.push('Email invalide');
            document.getElementById('rdvEmail').style.borderColor = 'crimson';
          }

          if(errors.length){
            showMessage(errors.join(' ¬∑ '), 'error');
            return;
          }

          const booking = {
            id: 'RDV-' + Date.now(),
            name, tel, email, service, date,
            created: new Date().toISOString()
          };

          try{
            const store = JSON.parse(localStorage.getItem('rdvBookings') || '[]');
            store.push(booking);
            localStorage.setItem('rdvBookings', JSON.stringify(store));
          }catch(err){ console.error('Storage error', err); }

          showMessage('Votre demande de rendez-vous a bien √©t√© enregistr√©e (r√©f: ' + booking.id + '). Nous vous contacterons bient√¥t.', 'success');
          form.reset();
        });

        const resetBtn = document.getElementById('rdvReset');
        if(resetBtn){ resetBtn.addEventListener('click', function(){ clearErrors(); msg.style.display='none'; msg.textContent=''; }); }

        const viewBtn = document.getElementById('viewBookings');
        viewBtn.addEventListener('click', function(){
          const store = JSON.parse(localStorage.getItem('rdvBookings') || '[]');
          if(!store.length){ showMessage('Aucune r√©servation enregistr√©e (mock).', 'error'); return; }
          let html = 'R√©servations mock:\n\n';
          store.slice().reverse().forEach(b=>{
            html += b.id + ' ‚Äî ' + b.name + ' ‚Äî ' + b.service + ' ‚Äî ' + b.date + ' ‚Äî ' + (b.tel || '') + '\n';
          });
          const w = window.open('', '_blank', 'width=700,height=500');
          if(w){
            w.document.write('<!doctype html><meta charset="utf-8"><title>R√©servations (mock)</title>');
            w.document.write('<pre style="white-space:pre-wrap;font-family:system-ui;padding:12px;">' + html.replace(/</g,'&lt;') + '</pre>');
            w.document.close();
          } else {
            alert(html);
          }
        });

      })();
    </script>

</body>
</html>